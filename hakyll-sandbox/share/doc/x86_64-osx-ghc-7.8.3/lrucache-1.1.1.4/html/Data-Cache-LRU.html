<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Cache.LRU</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Cache-LRU.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lrucache-1.1.1.4: a simple, pure LRU cache</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Cache.LRU</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Implements an LRU cache.</p><p>This module provides a pure LRU cache based on a doubly-linked list
 through a Data.Map structure.  This gives O(log n) operations on
 <code><a href="Data-Cache-LRU.html#v:insert">insert</a></code>, <code><a href="Data-Cache-LRU.html#v:lookup">lookup</a></code>, <code><a href="Data-Cache-LRU.html#v:delete">delete</a></code>, and <code><a href="Data-Cache-LRU.html#v:pop">pop</a></code>, and O(n * log n) for <code><a href="Data-Cache-LRU.html#v:toList">toList</a></code>.</p><p>The interface this module provides is opaque.  If further control
 is desired, the <a href="Data-Cache-LRU-Internal.html">Data.Cache.LRU.Internal</a> module can be used.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:LRU">LRU</a> key val</li><li class="src short"><a href="#v:newLRU">newLRU</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val</li><li class="src short"><a href="#v:fromList">fromList</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; [(key, val)] -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val</li><li class="src short"><a href="#v:toList">toList</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; [(key, val)]</li><li class="src short"><a href="#v:maxSize">maxSize</a> :: <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:insert">insert</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; key -&gt; val -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val</li><li class="src short"><a href="#v:lookup">lookup</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; key -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; (<a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> val)</li><li class="src short"><a href="#v:delete">delete</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; key -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; (<a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> val)</li><li class="src short"><a href="#v:pop">pop</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; (<a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (key, val))</li><li class="src short"><a href="#v:size">size</a> ::  <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:LRU" class="def">LRU</a> key val</p><div class="doc"><p>Stores the information that makes up an LRU cache</p></div><div class="subs instances"><p id="control.i:LRU" class="caption collapser" onclick="toggleSection('i:LRU')">Instances</p><div id="section.i:LRU" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Functor">Functor</a> (<a href="Data-Cache-LRU.html#t:LRU">LRU</a> key)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> key, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> val) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> key, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> val) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> (<a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:newLRU" class="def">newLRU</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>the optional maximum size of the LRU</p></td></tr><tr><td class="src">-&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Make an LRU.  If a size limit is specified, the LRU is guaranteed
 to not grow above the specified number of entries.</p></div></div><div class="top"><p class="src"><a name="v:fromList" class="def">fromList</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>the optional maximum size of the LRU</p></td></tr><tr><td class="src">-&gt; [(key, val)]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Build a new LRU from the given maximum size and list of contents,
 in order from most recently accessed to least recently accessed.</p></div></div><div class="top"><p class="src"><a name="v:toList" class="def">toList</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; [(key, val)]</p><div class="doc"><p>Retrieve a list view of an LRU.  The items are returned in
 order from most recently accessed to least recently accessed.</p></div></div><div class="top"><p class="src"><a name="v:maxSize" class="def">maxSize</a> :: <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></p><div class="doc"><p>the maximum size of the LRU cache</p></div></div><div class="top"><p class="src"><a name="v:insert" class="def">insert</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; key -&gt; val -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val</p><div class="doc"><p>Add an item to an LRU.  If the key was already present in the
 LRU, the value is changed to the new value passed in.  The
 item added is marked as the most recently accessed item in the
 LRU returned.</p><p>If this would cause the LRU to exceed its maximum size, the
 least recently used item is dropped from the cache.</p></div></div><div class="top"><p class="src"><a name="v:lookup" class="def">lookup</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; key -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; (<a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> val)</p><div class="doc"><p>Look up an item in an LRU.  If it was present, it is marked as
 the most recently accesed in the returned LRU.</p></div></div><div class="top"><p class="src"><a name="v:delete" class="def">delete</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; key -&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; (<a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> val)</p><div class="doc"><p>Remove an item from an LRU.  Returns the new LRU, and the value
 removed if the key was present.</p></div></div><div class="top"><p class="src"><a name="v:pop" class="def">pop</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> key =&gt; <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; (<a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (key, val))</p><div class="doc"><p>Removes the least-recently accessed element from the LRU.
 Returns the new LRU, and the key and value from the least-recently
 used element, if there was one.</p></div></div><div class="top"><p class="src"><a name="v:size" class="def">size</a> ::  <a href="Data-Cache-LRU.html#t:LRU">LRU</a> key val -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>Returns the number of elements the LRU currently contains.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>