<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Hakyll.Web.Template</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Hakyll-Web-Template.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">hakyll-4.6.4.0: A static website compiler library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Hakyll.Web.Template</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides means for reading and applying <code><a href="Hakyll-Web-Template.html#t:Template">Template</a></code>s.</p><p>Templates are tools to convert items into a string. They are perfectly suited
 for laying out your site.</p><p>Let's look at an example template:</p><pre>&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;My crazy homepage - $title$&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;header&quot;&gt;
            &lt;h1&gt;My crazy homepage - $title$&lt;/h1&gt;
        &lt;/div&gt;
        &lt;div id=&quot;content&quot;&gt;
            $body$
        &lt;/div&gt;
        &lt;div id=&quot;footer&quot;&gt;
            By reading this you agree that I now own your soul
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre><p>As you can see, the format is very simple -- <code>$key$</code> is used to render the
 <code>$key$</code> field from the page, everything else is literally copied. If you want
 to literally insert <code>&quot;$key$&quot;</code> into your page (for example, when you're
 writing a Hakyll tutorial) you can use</p><pre>&lt;p&gt;
    A literal $$key$$.
&lt;/p&gt;</pre><p>Because of it's simplicity, these templates can be used for more than HTML:
 you could make, for example, CSS or JS templates as well.</p><p>Apart from interpolating <code>$key$</code>s from the <code><a href="Hakyll-Web-Template-Context.html#t:Context">Context</a></code> you can also
 use the following macros:</p><ul><li><pre>$if(key)$</pre></li></ul><pre>$if(key)$
 &lt;b&gt; Defined &lt;/b&gt;
$else$
 &lt;b&gt; Non-defined &lt;/b&gt;
$endif$</pre><p>This example will print <code>Defined</code> if <code>key</code> is defined in the
 context and <code>Non-defined</code> otherwise. The <code>$else$</code> clause is
 optional.</p><ul><li><pre>$for(key)$</pre></li></ul><p>The <code>for</code> macro is used for enumerating <code><a href="Hakyll-Web-Template-Context.html#t:Context">Context</a></code> elements that are
 lists, i.e. constructed using the <code><a href="Hakyll-Web-Template-Context.html#v:listField">listField</a></code> function. Assume that
 in a context we have an element <code>listField &quot;key&quot; c itms</code>. Then
 the snippet </p><pre>$for(key)$
  $x$
$sep$,
$endfor$</pre><p>would, for each item <code>i</code> in <code>itms</code>, lookup <code>$x$</code> in the context <code>c</code>
 with item <code>i</code>, interpolate it, and join the resulting list with
 <code>,</code>.</p><p>Another concrete example one may consider is the following. Given the
 context</p><pre>listField &quot;things&quot; (field &quot;thing&quot; (return . itemBody))
   (sequence [makeItem &quot;fruits&quot;, makeItem &quot;vegetables&quot;])</pre><p>and a template</p><pre> I like
 $for(things)$
   fresh $thing$$sep$, and 
 $endfor$</pre><p>the resulting page would look like</p><pre>&lt;p&gt;
 I like

  fresh fruits, and 

  fresh vegetables
&lt;/p&gt;</pre><p>The <code>$sep$</code> part can be omitted. Usually, you can get by using the
 <code>applyListTemplate</code> and <code>applyJoinListTemplate</code> functions.</p><ul><li><pre>$partial(path)$</pre></li></ul><p>Loads a template located in a separate file and interpolates it
 under the current context.</p><p>Assuming that the file <code>test.html</code> contains</p><pre>&lt;b&gt;$key$&lt;/b&gt;</pre><p>The result of rendering</p><pre>&lt;p&gt;
  $partial(&quot;test.html&quot;)$
&lt;/p&gt;</pre><p>is the same as the result of rendering</p><pre>&lt;p&gt;
  &lt;b&gt;$key$&lt;/b&gt;
&lt;/p&gt;</pre><p>That is, calling <code>$partial$</code> is equivalent to just copying and pasting
 template code.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Template">Template</a></li><li class="src short"><a href="#v:templateCompiler">templateCompiler</a> :: <a href="Hakyll-Core-Compiler.html#t:Compiler">Compiler</a> (<a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="Hakyll-Web-Template.html#t:Template">Template</a>)</li><li class="src short"><a href="#v:applyTemplate">applyTemplate</a> ::  <a href="Hakyll-Web-Template.html#t:Template">Template</a> -&gt; <a href="Hakyll-Web-Template-Context.html#t:Context">Context</a> a -&gt; <a href="Hakyll-Core-Item.html#t:Item">Item</a> a -&gt; <a href="Hakyll-Core-Compiler.html#t:Compiler">Compiler</a> (<a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:loadAndApplyTemplate">loadAndApplyTemplate</a> ::  <a href="Hakyll-Core-Identifier.html#t:Identifier">Identifier</a> -&gt; <a href="Hakyll-Web-Template-Context.html#t:Context">Context</a> a -&gt; <a href="Hakyll-Core-Item.html#t:Item">Item</a> a -&gt; <a href="Hakyll-Core-Compiler.html#t:Compiler">Compiler</a> (<a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:applyAsTemplate">applyAsTemplate</a> :: <a href="Hakyll-Web-Template-Context.html#t:Context">Context</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Hakyll-Core-Compiler.html#t:Compiler">Compiler</a> (<a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:readTemplate">readTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Hakyll-Web-Template.html#t:Template">Template</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Template" class="def">Template</a></p><div class="doc"><p>Datatype used for template substitutions.</p></div><div class="subs instances"><p id="control.i:Template" class="caption collapser" onclick="toggleSection('i:Template')">Instances</p><div id="section.i:Template" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Hakyll-Web-Template.html#t:Template">Template</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="Hakyll-Web-Template.html#t:Template">Template</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:IsString">IsString</a> <a href="Hakyll-Web-Template.html#t:Template">Template</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/binary-0.7.1.0/Data-Binary.html#t:Binary">Binary</a> <a href="Hakyll-Web-Template.html#t:Template">Template</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Hakyll-Core-Writable.html#t:Writable">Writable</a> <a href="Hakyll-Web-Template.html#t:Template">Template</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Hakyll-Web-Template.html#t:Template">Template</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:templateCompiler" class="def">templateCompiler</a> :: <a href="Hakyll-Core-Compiler.html#t:Compiler">Compiler</a> (<a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="Hakyll-Web-Template.html#t:Template">Template</a>)</p><div class="doc"><p>Read a template.</p></div></div><div class="top"><p class="src"><a name="v:applyTemplate" class="def">applyTemplate</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Hakyll-Web-Template.html#t:Template">Template</a></td><td class="doc"><p>Template</p></td></tr><tr><td class="src">-&gt; <a href="Hakyll-Web-Template-Context.html#t:Context">Context</a> a</td><td class="doc"><p>Context</p></td></tr><tr><td class="src">-&gt; <a href="Hakyll-Core-Item.html#t:Item">Item</a> a</td><td class="doc"><p>Page</p></td></tr><tr><td class="src">-&gt; <a href="Hakyll-Core-Compiler.html#t:Compiler">Compiler</a> (<a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</td><td class="doc"><p>Resulting item</p></td></tr></table></div></div><div class="top"><p class="src"><a name="v:loadAndApplyTemplate" class="def">loadAndApplyTemplate</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Hakyll-Core-Identifier.html#t:Identifier">Identifier</a></td><td class="doc"><p>Template identifier</p></td></tr><tr><td class="src">-&gt; <a href="Hakyll-Web-Template-Context.html#t:Context">Context</a> a</td><td class="doc"><p>Context</p></td></tr><tr><td class="src">-&gt; <a href="Hakyll-Core-Item.html#t:Item">Item</a> a</td><td class="doc"><p>Page</p></td></tr><tr><td class="src">-&gt; <a href="Hakyll-Core-Compiler.html#t:Compiler">Compiler</a> (<a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</td><td class="doc"><p>Resulting item</p></td></tr></table></div><div class="doc"><p>The following pattern is so common:</p><pre>tpl &lt;- loadBody &quot;templates/foo.html&quot;
someCompiler
    &gt;&gt;= applyTemplate tpl context</pre><p>That we have a single function which does this:</p><pre>someCompiler
    &gt;&gt;= loadAndApplyTemplate &quot;templates/foo.html&quot; context</pre></div></div><div class="top"><p class="src"><a name="v:applyAsTemplate" class="def">applyAsTemplate</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Hakyll-Web-Template-Context.html#t:Context">Context</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>Context</p></td></tr><tr><td class="src">-&gt; <a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>Item and template</p></td></tr><tr><td class="src">-&gt; <a href="Hakyll-Core-Compiler.html#t:Compiler">Compiler</a> (<a href="Hakyll-Core-Item.html#t:Item">Item</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</td><td class="doc"><p>Resulting item</p></td></tr></table></div><div class="doc"><p>It is also possible that you want to substitute <code>$key$</code>s within the body of
 an item. This function does that by interpreting the item body as a template,
 and then applying it to itself.</p></div></div><div class="top"><p class="src"><a name="v:readTemplate" class="def">readTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Hakyll-Web-Template.html#t:Template">Template</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>